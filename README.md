# supabasechat

```sql
create table public.avatars (
  id INTEGER generated by default as identity primary key,
  image_url text not null
);

create table public.users (
  id uuid references auth.users not null primary key,
  user_name text,
  avatar_id INTEGER references public.avatars not null
);

create table public.rooms (
  id bigint generated by default as identity primary key,
  inserted_at timestamp with time zone default timezone('utc' :: text, now()) not null
);
comment on table public.rooms is 'Room at which the chats happen.';

create table public.participants (
  id bigint generated by default as identity primary key,
  inserted_at timestamp with time zone default timezone('utc' :: text, now()) not null,
  room_id bigint references public.rooms not null,
  user_id uuid references public.users not null
);
comment on table public.participants is 'Table that holds which room has who';

create table public.messages (
  id bigint generated by default as identity primary key,
  inserted_at timestamp with time zone default timezone('utc' :: text, now()) not null,
  message text,
  user_id uuid references public.users not null,
  room_id bigint references public.rooms not null
);
comment on table public.messages is 'Individual messages sent by each user.';
```