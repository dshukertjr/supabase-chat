# supabasechat

```sql
create table public.users (
  id uuid references auth.users not null primary key,
  name varchar(18) UNIQUE
);

create table public.rooms (
  id bigint generated by default as identity primary key,
  inserted_at timestamp with time zone default timezone('utc' :: text, now()) not null,
  name varchar(32)
);
comment on table public.rooms is 'Room at which the chats happen.';

create table public.participants (
  id bigint generated by default as identity primary key,
  inserted_at timestamp with time zone default timezone('utc' :: text, now()) not null,
  room_id bigint references public.rooms not null,
  user_id uuid references public.users not null
);
comment on table public.participants is 'Table that holds which room has who';

create table public.messages (
  id bigint generated by default as identity primary key,
  inserted_at timestamp with time zone default timezone('utc' :: text, now()) not null,
  message varchar(500),
  user_id uuid references public.users not null,
  room_id bigint references public.rooms not null
);
comment on table public.messages is 'Individual messages sent by each user.';
```